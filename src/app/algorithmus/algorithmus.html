<h1 class="title">Algorithmus</h1>

<form [formGroup]="algorithmusForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="summe">Summe (€):</label>
    <input
      id="summe"
      type="number"
      formControlName="Summe"
      placeholder="z. B. 1000"
    />

    @if (Summe?.touched && Summe?.invalid) {
      <div class="error">
        @if (Summe?.errors?.['required']) {
          <small>Summe ist erforderlich.</small>
        }
        @if (Summe?.errors?.['min']) {
          <small>Mindestwert ist 1 €.</small>
        }
        @if (Summe?.errors?.['pattern']) {
          <small>Bitte gültige Zahl eingeben (z. B. 1000.50).</small>
        }
      </div>
    }
  </div>

  <div class="checkboxes">
    <label for="first-step">
      <input id="first-step" type="checkbox" formControlName="firstStep" />
      Individuelle Express Krypto-Einführung
    </label>

    <label for="exchange-setup" >
      <input id="exchange-setup" type="checkbox" formControlName="exchangeSetup" />
      Börsenwahl & Einrichtung
    </label>

    <label for="buy-strategy">
      <input id="buy-strategy" type="checkbox" formControlName="buyStrategy" />
      Kaufstrategie & Coin-Auswahl
    </label>

    <label for="wallet-setup">
      <input id="wallet-setup" type="checkbox" formControlName="walletSetup" />
      Wallet-Einrichtung & Sicherheit
    </label>

    <label for="tax-tool">
      <input id="tax-tool" type="checkbox" formControlName="taxTool" />
      Steuertool für deine Abwicklung
    </label>

    <label for="ongoing-support">
      <input id="ongoing-support" type="checkbox" formControlName="ongoingSupport" />
      Laufende Betreuung
    </label>
  </div>

  <button type="submit" [disabled]="!algorithmusForm.valid">
    Berechnen
  </button>
</form>

<section>
  <h2>
    Zusammenfassung
  </h2>
  <dl>
        <dt>Individuelle Express Krypto-Einführung</dt>
    <dd>{{firstStepAmount | number:'1.2-2'}} €</dd>
        <dt>Börsenwahl & Einrichtung</dt>
    <dd>{{exchangeSetupAmount| number:'1.2-2'}} €</dd>
        <dt> Kaufstrategie & Coin-Auswahl</dt>
    <dd>{{buyStrategyAmount | number:'1.2-2'}} €</dd>
        <dt>Wallet-Einrichtung & Sicherheit</dt>
    <dd>{{walletSetupAmount | number:'1.2-2'}} €</dd>
        <dt>Steuertool für deine Abwicklung</dt>
    <dd>{{taxToolAmount | number:'1.2-2'}} €</dd>
        <dt>Laufende Betreuung</dt>
          <dd>{{ongoingSupportAmount | number:'1.2-2'}} €</dd> 
  </dl>
  
  <div class="divider"></div>

  <dl>
        <dt>Investitions Betrag</dt>
    <dd>{{ investmentAmount | number:'1.2-2' }} €</dd>
        <dt>Provison</dt>
    <dd>{{ totalProvision | number:'1.2-2' }} €</dd>
  </dl>

  <div class="divider"></div>

  <dl>
        <dt>Total Betrag</dt>
    <dd>{{ totalAmount | number:'1.2-2'}} €</dd>
  </dl>
</section>

